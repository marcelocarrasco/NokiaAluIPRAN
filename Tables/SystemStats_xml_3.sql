
--
-- Tabla auxiliar para almacenar la info del archivo YYYYMMDDHH24MI_SystemStats.xml_3
-- DROP TABLE XML_SYSTEM_STATS_3;

CREATE TABLE XML_SYSTEM_STATS_3(
   FECHA                       DATE GENERATED ALWAYS AS (TO_DATE(SUBSTR(NOMBRE_CSV,-28,2)||'.'||
                                                                      SUBSTR(NOMBRE_CSV,-30,2)||'.'||
                                                                      SUBSTR(NOMBRE_CSV,-34,4)||' '||
                                                                      SUBSTR(NOMBRE_CSV,-26,2)||':'||
                                                                      SUBSTR(NOMBRE_CSV,-24,2),'DD.MM.YYYY HH24:MI')) VIRTUAL
  ,SYSTEM_CPU_USAGE	          NUMBER
  ,TIME_CAPTURED	            NUMBER
  ,PERIODIC_TIME	            NUMBER
  ,MONITORED_OBJECT_SITE_ID	  VARCHAR2(15 CHAR)
  ,MONITORED_OBJECT_SITE_NAME	VARCHAR2(50 CHAR)
  ,MEDICION                   VARCHAR2(50 CHAR)
  ,NOMBRE_CSV                 VARCHAR2(100 CHAR)
)NOCOMPRESS NOLOGGING
PARTITION BY RANGE (FECHA)
(PARTITION SYSTEMSTATS320161128 VALUES LESS THAN (TO_DATE('29.11.2016','DD.MM.YYYY')) TABLESPACE DEVELOPER PCTFREE 10 PCTUSED 80)
 TABLESPACE DEVELOPER;
 
COMMENT ON TABLE XML_SYSTEM_STATS_3 IS 'Tabla auxiliar para almacenar la info del archivo YYYYMMDDHH24MI_SystemStats.xml_3';

ALTER TABLE XML_SYSTEM_STATS_3 ADD PARTITION SYSTEMSTATS320161129 VALUES LESS THAN (TO_DATE('30.11.2016','DD.MM.YYYY')) TABLESPACE DEVELOPER PCTFREE 10 PCTUSED 80;
ALTER TABLE XML_SYSTEM_STATS_3 ADD PARTITION SYSTEMSTATS320161130 VALUES LESS THAN (TO_DATE('01.12.2016','DD.MM.YYYY')) TABLESPACE DEVELOPER PCTFREE 10 PCTUSED 80;
ALTER TABLE XML_SYSTEM_STATS_3 ADD PARTITION SYSTEMSTATS320161201 VALUES LESS THAN (TO_DATE('02.12.2016','DD.MM.YYYY')) TABLESPACE DEVELOPER PCTFREE 10 PCTUSED 80;
ALTER TABLE XML_SYSTEM_STATS_3 ADD PARTITION SYSTEMSTATS320161202 VALUES LESS THAN (TO_DATE('03.12.2016','DD.MM.YYYY')) TABLESPACE DEVELOPER PCTFREE 10 PCTUSED 80;
ALTER TABLE XML_SYSTEM_STATS_3 ADD PARTITION SYSTEMSTATS320161203 VALUES LESS THAN (TO_DATE('04.12.2016','DD.MM.YYYY')) TABLESPACE DEVELOPER PCTFREE 10 PCTUSED 80;
ALTER TABLE XML_SYSTEM_STATS_3 ADD PARTITION SYSTEMSTATS320161204 VALUES LESS THAN (TO_DATE('05.12.2016','DD.MM.YYYY')) TABLESPACE DEVELOPER PCTFREE 10 PCTUSED 80;
ALTER TABLE XML_SYSTEM_STATS_3 ADD PARTITION SYSTEMSTATS320161205 VALUES LESS THAN (TO_DATE('06.12.2016','DD.MM.YYYY')) TABLESPACE DEVELOPER PCTFREE 10 PCTUSED 80;
ALTER TABLE XML_SYSTEM_STATS_3 ADD PARTITION SYSTEMSTATS320161206 VALUES LESS THAN (TO_DATE('07.12.2016','DD.MM.YYYY')) TABLESPACE DEVELOPER PCTFREE 10 PCTUSED 80;
ALTER TABLE XML_SYSTEM_STATS_3 ADD PARTITION SYSTEMSTATS320161207 VALUES LESS THAN (TO_DATE('08.12.2016','DD.MM.YYYY')) TABLESPACE DEVELOPER PCTFREE 10 PCTUSED 80;
ALTER TABLE XML_SYSTEM_STATS_3 ADD PARTITION SYSTEMSTATS320161208 VALUES LESS THAN (TO_DATE('09.12.2016','DD.MM.YYYY')) TABLESPACE DEVELOPER PCTFREE 10 PCTUSED 80;
ALTER TABLE XML_SYSTEM_STATS_3 ADD PARTITION SYSTEMSTATS320161209 VALUES LESS THAN (TO_DATE('10.12.2016','DD.MM.YYYY')) TABLESPACE DEVELOPER PCTFREE 10 PCTUSED 80;
ALTER TABLE XML_SYSTEM_STATS_3 ADD PARTITION SYSTEMSTATS320161210 VALUES LESS THAN (TO_DATE('11.12.2016','DD.MM.YYYY')) TABLESPACE DEVELOPER PCTFREE 10 PCTUSED 80;
ALTER TABLE XML_SYSTEM_STATS_3 ADD PARTITION SYSTEMSTATS320161211 VALUES LESS THAN (TO_DATE('12.12.2016','DD.MM.YYYY')) TABLESPACE DEVELOPER PCTFREE 10 PCTUSED 80;
ALTER TABLE XML_SYSTEM_STATS_3 ADD PARTITION SYSTEMSTATS320161212 VALUES LESS THAN (TO_DATE('13.12.2016','DD.MM.YYYY')) TABLESPACE DEVELOPER PCTFREE 10 PCTUSED 80;
ALTER TABLE XML_SYSTEM_STATS_3 ADD PARTITION SYSTEMSTATS320161213 VALUES LESS THAN (TO_DATE('14.12.2016','DD.MM.YYYY')) TABLESPACE DEVELOPER PCTFREE 10 PCTUSED 80;
ALTER TABLE XML_SYSTEM_STATS_3 ADD PARTITION SYSTEMSTATS320161214 VALUES LESS THAN (TO_DATE('15.12.2016','DD.MM.YYYY')) TABLESPACE DEVELOPER PCTFREE 10 PCTUSED 80;
ALTER TABLE XML_SYSTEM_STATS_3 ADD PARTITION SYSTEMSTATS320161215 VALUES LESS THAN (TO_DATE('16.12.2016','DD.MM.YYYY')) TABLESPACE DEVELOPER PCTFREE 10 PCTUSED 80;
ALTER TABLE XML_SYSTEM_STATS_3 ADD PARTITION SYSTEMSTATS320161216 VALUES LESS THAN (TO_DATE('17.12.2016','DD.MM.YYYY')) TABLESPACE DEVELOPER PCTFREE 10 PCTUSED 80;
ALTER TABLE XML_SYSTEM_STATS_3 ADD PARTITION SYSTEMSTATS320161217 VALUES LESS THAN (TO_DATE('18.12.2016','DD.MM.YYYY')) TABLESPACE DEVELOPER PCTFREE 10 PCTUSED 80;
ALTER TABLE XML_SYSTEM_STATS_3 ADD PARTITION SYSTEMSTATS320161218 VALUES LESS THAN (TO_DATE('19.12.2016','DD.MM.YYYY')) TABLESPACE DEVELOPER PCTFREE 10 PCTUSED 80;
ALTER TABLE XML_SYSTEM_STATS_3 ADD PARTITION SYSTEMSTATS320161219 VALUES LESS THAN (TO_DATE('20.12.2016','DD.MM.YYYY')) TABLESPACE DEVELOPER PCTFREE 10 PCTUSED 80;
ALTER TABLE XML_SYSTEM_STATS_3 ADD PARTITION SYSTEMSTATS320161220 VALUES LESS THAN (TO_DATE('21.12.2016','DD.MM.YYYY')) TABLESPACE DEVELOPER PCTFREE 10 PCTUSED 80;
ALTER TABLE XML_SYSTEM_STATS_3 ADD PARTITION SYSTEMSTATS320161221 VALUES LESS THAN (TO_DATE('22.12.2016','DD.MM.YYYY')) TABLESPACE DEVELOPER PCTFREE 10 PCTUSED 80;
ALTER TABLE XML_SYSTEM_STATS_3 ADD PARTITION SYSTEMSTATS320161222 VALUES LESS THAN (TO_DATE('23.12.2016','DD.MM.YYYY')) TABLESPACE DEVELOPER PCTFREE 10 PCTUSED 80;
ALTER TABLE XML_SYSTEM_STATS_3 ADD PARTITION SYSTEMSTATS320161223 VALUES LESS THAN (TO_DATE('24.12.2016','DD.MM.YYYY')) TABLESPACE DEVELOPER PCTFREE 10 PCTUSED 80;
ALTER TABLE XML_SYSTEM_STATS_3 ADD PARTITION SYSTEMSTATS320161224 VALUES LESS THAN (TO_DATE('25.12.2016','DD.MM.YYYY')) TABLESPACE DEVELOPER PCTFREE 10 PCTUSED 80;
ALTER TABLE XML_SYSTEM_STATS_3 ADD PARTITION SYSTEMSTATS320161225 VALUES LESS THAN (TO_DATE('26.12.2016','DD.MM.YYYY')) TABLESPACE DEVELOPER PCTFREE 10 PCTUSED 80;
ALTER TABLE XML_SYSTEM_STATS_3 ADD PARTITION SYSTEMSTATS320161226 VALUES LESS THAN (TO_DATE('27.12.2016','DD.MM.YYYY')) TABLESPACE DEVELOPER PCTFREE 10 PCTUSED 80;
ALTER TABLE XML_SYSTEM_STATS_3 ADD PARTITION SYSTEMSTATS320161227 VALUES LESS THAN (TO_DATE('28.12.2016','DD.MM.YYYY')) TABLESPACE DEVELOPER PCTFREE 10 PCTUSED 80;
ALTER TABLE XML_SYSTEM_STATS_3 ADD PARTITION SYSTEMSTATS320161228 VALUES LESS THAN (TO_DATE('29.12.2016','DD.MM.YYYY')) TABLESPACE DEVELOPER PCTFREE 10 PCTUSED 80;
ALTER TABLE XML_SYSTEM_STATS_3 ADD PARTITION SYSTEMSTATS320161229 VALUES LESS THAN (TO_DATE('30.12.2016','DD.MM.YYYY')) TABLESPACE DEVELOPER PCTFREE 10 PCTUSED 80;
ALTER TABLE XML_SYSTEM_STATS_3 ADD PARTITION SYSTEMSTATS320161230 VALUES LESS THAN (TO_DATE('31.12.2016','DD.MM.YYYY')) TABLESPACE DEVELOPER PCTFREE 10 PCTUSED 80;
ALTER TABLE XML_SYSTEM_STATS_3 ADD PARTITION SYSTEMSTATS320161231 VALUES LESS THAN (TO_DATE('01.01.2017','DD.MM.YYYY')) TABLESPACE DEVELOPER PCTFREE 10 PCTUSED 80;